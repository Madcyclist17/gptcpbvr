<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Form Validation using addEventListener2</h1>
    <form action="" id="form">
      Enter username
      <input type="text" id="name" /><br /><br/>

      Enter email
      <input type="email" id="email" /><br /><br/>

      Enter contact
      <input type="tel" id="contact" /><br /><br/>

      Enter password
      <input type="password" id="password" /><br /><br />

      Confirm password
      <input type="password" id="password2" /><br /><br />

      <input type="submit" value="submit" />
    </form>
  </body>
</html>
<script>
  var form = document.getElementById("form");
  var username = document.getElementById("name");
  var email = document.getElementById("email");
  var contact = document.getElementById("contact");
  var password = document.getElementById("password");
  var confirmpass = document.getElementById("password2");

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    validateInputs();
  });
  const validusername = (username) => {
    const usernameRegex = /^[a-zA-Z0-9]+$/;
    return usernameRegex.test(String(username).toLowerCase());
  };
  const validemail = (email) => {
    const emailRegex =
      /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
    return emailRegex.test(String(email).toLowerCase());
  };
  const validcontact = (contact) => {
    const contactRegex = /^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/i;
    return contactRegex.test(String(contact).toLowerCase());
  };
  const validpassword = (password) => {
    const passwordRegex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;
    return passwordRegex.test(String(password).toLowerCase());
  };
  const validateInputs = () => {
    const usernamevalue = username.value.trim();
    const emailvalue = email.value.trim();
    const contactvalue = contact.value.trim();
    const passwordvalue = password.value.trim();
    const confirmpasswordvalue = confirmpass.value.trim();
    if (usernamevalue === "") {
      alert(" username is required");
    } else if (!validusername(usernamevalue)) {
      alert("enter valid username");
    } else if (emailvalue === "") {
      alert("email is required");
    } else if (!validemail(emailvalue)) {
      alert("enter valid email");
    } else if (contactvalue === "") {
      alert("contact number is required");
    } else if (!validcontact(contactvalue)) {
      alert("enter valid contact number");
    } else if (passwordvalue === "") {
      alert("password is required");
    } else if (passwordvalue.length < 8) {
      alert("password should be greater than 8 characters");
    } else if (!validpassword(passwordvalue)) {
      alert("enter valid password");
    } else if (confirmpasswordvalue === "") {
      alert("confirm is required");
    } else if (confirmpasswordvalue != passwordvalue) {
      alert("not equal to entered password");
    } else {
      alert("success");
    }
  };
</script>
